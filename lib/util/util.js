'use strict';const _0x2b4e15=_0x2280;(function(_0x479d93,_0x48cff1){const _0x16d2b5=_0x2280,_0x602d18=_0x479d93();while(!![]){try{const _0x46f9c4=parseInt(_0x16d2b5(0x141))/0x1*(parseInt(_0x16d2b5(0x10b))/0x2)+parseInt(_0x16d2b5(0x117))/0x3*(-parseInt(_0x16d2b5(0x11d))/0x4)+parseInt(_0x16d2b5(0x12b))/0x5*(-parseInt(_0x16d2b5(0x140))/0x6)+parseInt(_0x16d2b5(0x126))/0x7*(-parseInt(_0x16d2b5(0x11b))/0x8)+-parseInt(_0x16d2b5(0x13a))/0x9+-parseInt(_0x16d2b5(0x143))/0xa+parseInt(_0x16d2b5(0x139))/0xb*(parseInt(_0x16d2b5(0x109))/0xc);if(_0x46f9c4===_0x48cff1)break;else _0x602d18['push'](_0x602d18['shift']());}catch(_0x3c694c){_0x602d18['push'](_0x602d18['shift']());}}}(_0x446d,0xc2047));Object[_0x2b4e15(0x111)](exports,_0x2b4e15(0x11e),{'value':!![]}),exports[_0x2b4e15(0x142)]=buildUTXO,exports[_0x2b4e15(0x12e)]=buildFtPrePreTxData,exports[_0x2b4e15(0x113)]=selectTXfromLocal,exports['getFtBalanceFromTape']=getFtBalanceFromTape,exports['fetchInBatches']=fetchInBatches,exports['fetchWithRetry']=fetchWithRetry;const ftunlock_1=require(_0x2b4e15(0x124));function buildUTXO(_0x149185,_0x346987,_0x1c10ac){const _0x4f33cb=_0x2b4e15,_0x3d18e9={'TeVka':function(_0x423420,_0x59946c){return _0x423420(_0x59946c);},'bjcvQ':function(_0x23f043,_0x3cbc10){return _0x23f043+_0x3cbc10;}};let _0x1cf334;_0x1c10ac===!![]?_0x1cf334=_0x3d18e9[_0x4f33cb(0x114)](getFtBalanceFromTape,_0x149185[_0x4f33cb(0x12c)][_0x3d18e9['bjcvQ'](_0x346987,0x1)][_0x4f33cb(0x107)][_0x4f33cb(0x10c)]()):_0x1cf334=0x0n;const _0x48b578=_0x149185[_0x4f33cb(0x12c)][_0x346987];if(!_0x48b578)throw new Error('Output\x20at\x20index\x20'+_0x346987+_0x4f33cb(0x133));return{'txId':_0x149185[_0x4f33cb(0x108)],'outputIndex':_0x346987,'script':_0x48b578['script']['toHex'](),'satoshis':_0x48b578[_0x4f33cb(0x145)],'ftBalance':_0x1cf334};}function buildFtPrePreTxData(_0x50f2d4,_0x456934,_0x282998){const _0x501e90=_0x2b4e15,_0x34f0d4={'HeEWt':function(_0x510682,_0x436e23){return _0x510682+_0x436e23;},'QIcZB':_0x501e90(0x119),'YIVTM':function(_0x397e9b,_0x4e2b29){return _0x397e9b-_0x4e2b29;},'rITLO':function(_0x6440ee,_0x3212eb){return _0x6440ee+_0x3212eb;},'vCxkw':function(_0x1531b0,_0x311568){return _0x1531b0!=_0x311568;},'Gveoy':_0x501e90(0x120),'KkEXY':function(_0x3ab97b,_0x102316){return _0x3ab97b/_0x102316;},'nqjZD':function(_0xdb0f0f,_0x2bb01a,_0xffc3ee){return _0xdb0f0f(_0x2bb01a,_0xffc3ee);}},_0x320004=Buffer['from'](_0x50f2d4[_0x501e90(0x12c)][_0x34f0d4[_0x501e90(0x144)](_0x456934,0x1)]['script'][_0x501e90(0x135)]()[_0x501e90(0x11a)](0x3,0x33))[_0x501e90(0x10d)](_0x34f0d4[_0x501e90(0x137)]);let _0x1912b6='';for(let _0x5d233f=_0x34f0d4[_0x501e90(0x110)](_0x320004[_0x501e90(0x13c)],0x10);_0x5d233f>=0x0;_0x5d233f-=0x10){const _0x95fd62=_0x320004['substring'](_0x5d233f,_0x34f0d4['rITLO'](_0x5d233f,0x10));if(_0x34f0d4['vCxkw'](_0x95fd62,_0x34f0d4[_0x501e90(0x116)])){const _0x5e5c03=_0x34f0d4[_0x501e90(0x125)](_0x5d233f,0x10),_0xcc0894=_0x34f0d4['nqjZD'](selectTXfromLocal,_0x282998,_0x50f2d4['inputs'][_0x5e5c03][_0x501e90(0x13f)]['toString'](_0x34f0d4[_0x501e90(0x137)]));_0x1912b6=_0x34f0d4[_0x501e90(0x12d)](_0x1912b6,(0x0,ftunlock_1[_0x501e90(0x121)])(_0xcc0894,_0x50f2d4[_0x501e90(0x138)][_0x5e5c03][_0x501e90(0x12f)]));}}return _0x1912b6=_0x34f0d4[_0x501e90(0x12d)]('57',_0x1912b6),_0x1912b6;}function selectTXfromLocal(_0x4ffe1d,_0x4db758){const _0xc11def=_0x2b4e15,_0x1fb784={'ripMi':function(_0x5916c8,_0xd74ce){return _0x5916c8===_0xd74ce;}};for(const _0xc97937 of _0x4ffe1d){if(_0x1fb784[_0xc11def(0x13b)](_0xc97937[_0xc11def(0x108)],_0x4db758))return _0xc97937;}throw new Error(_0xc11def(0x130)+_0x4db758+_0xc11def(0x132));}function getFtBalanceFromTape(_0x561568){const _0x4a57ef=_0x2b4e15,_0x2dde26={'ZFHso':function(_0x2e93d4,_0x43ea24){return _0x2e93d4+_0x43ea24;},'BvjGL':function(_0x201e8a,_0x5b586d){return _0x201e8a(_0x5b586d);},'dNRvF':function(_0xa1bbe4,_0x47a03b){return _0xa1bbe4<_0x47a03b;}};let _0x4af14e=Buffer[_0x4a57ef(0x13d)](_0x561568,_0x4a57ef(0x119));_0x4af14e=Buffer['from'](_0x4af14e[_0x4a57ef(0x11a)](0x3,_0x2dde26[_0x4a57ef(0x129)](0x3,0x30)));let _0x5680f8=_0x2dde26[_0x4a57ef(0x12a)](BigInt,0x0);for(let _0x282fe5=0x0;_0x2dde26['dNRvF'](_0x282fe5,0x6);_0x282fe5++){const _0x109a6a=_0x4af14e['readBigUInt64LE'](_0x282fe5*0x8);_0x5680f8+=_0x109a6a;}return _0x5680f8;}function _0x2280(_0x1b0d35,_0x5a0bf3){const _0x446d78=_0x446d();return _0x2280=function(_0x2280f9,_0x5abbf7){_0x2280f9=_0x2280f9-0x107;let _0xe4fa5c=_0x446d78[_0x2280f9];return _0xe4fa5c;},_0x2280(_0x1b0d35,_0x5a0bf3);}async function fetchInBatches(_0x1741c9,_0x31e512,_0x6e1f3b,_0x1f416e){const _0x391b0c=_0x2b4e15,_0x58314d={'HGngC':function(_0x20e257,_0x1476f8){return _0x20e257+_0x1476f8;},'FtxPO':function(_0x5903db,_0x163934){return _0x5903db/_0x163934;},'QSAmL':function(_0xc6bfc4,_0x13f729){return _0xc6bfc4<_0x13f729;}},_0x4f5698=[];for(let _0x5ed65b=0x0;_0x5ed65b<_0x1741c9['length'];_0x5ed65b+=_0x31e512){const _0x5af7ba=_0x1741c9[_0x391b0c(0x10a)](_0x5ed65b,_0x58314d[_0x391b0c(0x134)](_0x5ed65b,_0x31e512));console[_0x391b0c(0x112)]('Processing\x20'+_0x1f416e+'\x20batch\x20'+_0x58314d[_0x391b0c(0x134)](Math[_0x391b0c(0x118)](_0x58314d[_0x391b0c(0x123)](_0x5ed65b,_0x31e512)),0x1)+'/'+Math[_0x391b0c(0x136)](_0x1741c9[_0x391b0c(0x13c)]/_0x31e512)+'\x20('+_0x5af7ba[_0x391b0c(0x13c)]+_0x391b0c(0x11c));const _0x28863e=await fetchWithRetry(()=>_0x6e1f3b(_0x5af7ba),0x3,0x12c,_0x1f416e+_0x391b0c(0x122)+_0x58314d[_0x391b0c(0x134)](Math[_0x391b0c(0x118)](_0x58314d[_0x391b0c(0x123)](_0x5ed65b,_0x31e512)),0x1));_0x4f5698[_0x391b0c(0x10f)](..._0x28863e),_0x58314d['QSAmL'](_0x58314d['HGngC'](_0x5ed65b,_0x31e512),_0x1741c9[_0x391b0c(0x13c)])&&await new Promise(_0x1a4c90=>setTimeout(_0x1a4c90,0x12c));}return _0x4f5698;}function _0x446d(){const _0x2f0605=['hash','144uwAqcp','slice','437966mFACrF','toHex','toString','ELzmY','push','YIVTM','defineProperty','log','selectTXfromLocal','TeVka','API\x20call','Gveoy','3ZuhpHq','floor','hex','subarray','4299872DErFQJ','\x20items)','2351888ydIOPg','__esModule','warn','0000000000000000','getPrePreTxdata','\x20batch\x20','FtxPO','./ftunlock','KkEXY','7juXyhE','\x20failed:','otFrr','ZFHso','BvjGL','5LDXFGx','outputs','rITLO','buildFtPrePreTxData','outputIndex','Transaction\x20with\x20ID\x20','\x20attempt\x20','\x20not\x20found\x20in\x20local\x20transactions.','\x20does\x20not\x20exist\x20in\x20the\x20transaction.','HGngC','toBuffer','ceil','QIcZB','inputs','4763814LVayik','9832653PgRiej','ripMi','length','from','Unreachable\x20code','prevTxId','6953106oHwRsy','1FRMlux','buildUTXO','12443520gnSkwp','HeEWt','satoshis','script'];_0x446d=function(){return _0x2f0605;};return _0x446d();}async function fetchWithRetry(_0x2a59e0,_0x4e471e=0x3,_0x9ee4e3=0x12c,_0x5ecc74=_0x2b4e15(0x115)){const _0x44e30e=_0x2b4e15,_0x2af4fd={'otFrr':function(_0x32d98d,_0x6f3e7e){return _0x32d98d<_0x6f3e7e;},'HjlCo':function(_0x906a38){return _0x906a38();},'ELzmY':function(_0x224078,_0x38e385){return _0x224078+_0x38e385;},'hAFLr':_0x44e30e(0x13e)};for(let _0x4f075d=0x0;_0x2af4fd[_0x44e30e(0x128)](_0x4f075d,_0x4e471e);_0x4f075d++){try{return await _0x2af4fd['HjlCo'](_0x2a59e0);}catch(_0x5ccfda){console[_0x44e30e(0x11f)](_0x5ecc74+_0x44e30e(0x131)+_0x2af4fd[_0x44e30e(0x10e)](_0x4f075d,0x1)+_0x44e30e(0x127),_0x5ccfda);if(_0x4f075d===_0x4e471e-0x1)throw _0x5ccfda;await new Promise(_0x308cd3=>setTimeout(_0x308cd3,_0x9ee4e3*(_0x4f075d+0x1)));}}throw new Error(_0x2af4fd['hAFLr']);}